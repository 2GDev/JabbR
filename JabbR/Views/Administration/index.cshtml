@using SquishIt.Framework;
@using JabbR
@using JabbR.ViewModels
@model AdministrationViewModel
@{
    var administrationViewModel = Model as AdministrationViewModel;
}

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>JabbR - administration</title>
    @{ 
        WriteLiteral(Bundle.Css()
            .Add("~/Content/bootstrap.min.css")
            .Add("~/Content/bootstrap-responsive.min.css")
            .Add("~/Content/font-awesome.min.css")
            .Add("~/Chat.css")
            .Add("~/Content/emoji20.css")
            .Render("~/Content/JabbR_#.css"));
    }
</head>
<body class="administration">
    <section id="page" role="application">
        <header id="heading" role="heading">
            <div class="banner" role="banner">
                <h1>Jabb</h1>
                <div class="jabbrLogo" id="logo"></div>
            </div>
        </header>
        <div class="container">
            <div class="row" style="padding-top: 75px;">
                @Html.AlertMessages()
                <div class="row">
                    <div class="span12">
                        <span class="administration-title pull-left">Administration</span>
                    </div>
                </div>
                <hr />
            </div>
            <form class="form-horizontal" action="#" method="POST">
                @Html.ValidationSummary()
                <fieldset id="encryption">
                    <legend>Encryption</legend>
                    <div class="control-group">
                        <label class="control-label" for="encryptionKey">Encryption Key</label>
                        <div class="controls">
                            <label class="control-label label-align-left">@administrationViewModel.EncryptionKey</label>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="verificationKey">Verification Key</label>
                        <div class="controls">
                            <label class="control-label label-align-left">@administrationViewModel.VerificationKey</label>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="account-details tab-pane" id="storage">
                    <legend>Storage</legend>
                    <div class="control-group">
                        <label class="control-label" for="azureBlobStorageConnectionString">Azure Blob Storage Connectionstring</label>
                        <div class="controls">
                            @Html.TextBox("azureBlobStorageConnectionString", "input-xlarge", "Azure Blob Storage Connectionstring")
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="maxFileUploadBytes">Max File Upload Size (Bytes)</label>
                        <div class="controls">
                            @Html.TextBox("maxFileUploadBytes", "input-xlarge", "Max File Upload Size (Bytes)")
                        </div>
                    </div>
                </fieldset>
                <fieldset id="analytics">
                    <legend>Analytics</legend>
                    <div class="control-group">
                        <label class="control-label" for="googleAnalytics">Google Analytics ID</label>
                        <div class="controls">
                            @Html.TextBox("googleAnalytics", "input-xlarge", "Google Analytics ID")
                        </div>
                    </div>
                </fieldset>
                <fieldset id="identityProviders">
                    <legend>Identity Providers</legend>
                    <div class="control-group">
                    </div>
                </fieldset>
                <div class="control-group">
                    <div class="controls">
                        <input type="submit" class="btn pull-right" value="Update Storage Settings" />
                    </div>
                </div>
                @Html.AntiForgeryToken()
            </form>
        </div>
    </section>
    <script src="@Url.Content("~/Scripts/jquery-1.9.0.min.js")"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.min.js")"></script>
    <script type="text/javascript">
        (function ($) {
            // set the selected tab based on the hash
            var currentSection = document.location.hash || "#encryption";
            $('a[href="' + currentSection + '"]').tab('show');

            // always set the hash when we change tabs
            $('a[data-toggle="tab"]').on('shown', function (e) {
                document.location.hash = e.target.hash;
            });

            // make sure errors look pretty and bootstrap-y
            $('input.error').closest('.control-group').addClass('error');
        }(jQuery));
    </script>
</body>
</html>
